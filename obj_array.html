<!DOCTYPE html>
<html>
<head>
<title>Object Array</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/processing.js/1.4.8/processing.min.js"></script>
<script type="application/processing" data-processing-target="pjs">

boolean flag;
boolean i_flag;

Module[] mods;

void setup() {
  frameRate(1);
size(500, 400);
mods = new Module[7];

 for (int i = 0; i < 7; i++) {
    //mods[i] = new Module (my_map[i]);
    mods[i] = new Module();
  }
}
void draw() {
background(50);
  for (Module mod : mods) {
    mod.update();
    mod.display();
    println("flag= ",flag);
    println("i_flag= ",i_flag);
    
  text("↑ ", 220,280);
  text("↓ ", 220,320);
  text("← ", 170,320);
  text("→ ", 270,320);
  }
}
void keyPressed() {
     if (keyCode == UP) {
       if(!flag)flag=true;} 
     if (keyCode == DOWN) {
        if(flag)flag=false;   }
        
    if (keyCode == RIGHT) {
       if(!i_flag) i_flag=true;} 
     if (keyCode == LEFT) {
        if(i_flag) i_flag=false;   }     
 }


class Module {
  int i;
int[] data = new int[]{0,0,0,0,0,0,0};
// Contructor
 // Module(int xTemp){
 //   x = xTemp;
 //   }
void update() {
if(flag)data[i]++;
if(i_flag) i++;
}    
    
void display() {
  textSize(30);
 for (int j = 0; j < 7; j += 1){
      text(data[j],50+60*j,100);
  }
  text("data_mem index "+i, 100,200);
 }
}

</script>
</head>
<body>
<p>To start click on the canvas, then press arrow keys</p>
<canvas id="pjs"></canvas>
</body>
</html>
